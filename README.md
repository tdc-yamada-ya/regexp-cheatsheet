# テキストを検索・置換するための正規表現チートシート

複雑な条件でテキストを検索・置換えするために使用する正規表現の使い方をまとめました。

## 正規表現を使う理由

正規表現を使うことでテキストを検索・置換する処理が格段に効率的になります。
例えば、ログを検索する際に「4時と8時にERRORと出力されている行」を一回で検索したり、
行から必要な部分を抽出してタブ区切りテキストに変換したり、
といったことが可能になります。

## 正規表現を活用するには

正規表現を活用するには普段から練習しておく必要があります。
練習の方法は単純で正規表現に対応したテキストエディタを使用してログファイルや公開されているソースコードを対象に検索を行うだけです。

## Notepad++

[Notepad++](https://notepad-plus-plus.org/)

正規表現を使用でき、日本語にも対応しており、**ログファイルのような巨大ファイルをスムーズに開くことができるため**、
正規表現の練習用のエディタとして推奨します。もちろん実際の作業でも十分な機能を持っています。

正規表現による検索・置換を行うには Ctrl+F(検索) あるいは Ctrl+H(置換) を押して、
検索モードから正規表現を選択してください。

## 用途ごとの正規表現パターン

用途別に使える正規表現のパターンを紹介します。
なお掲載しているパターンはNotepad++で動作確認をしています。
他のテキストエディタやAPIでは挙動が変わる可能性がありますのでご注意ください。

### ○○○で始まる or 終わる行を見つける

|検索|解説|
-|-
|`^2018-06-01`|`^`を使うことで先頭マッチ|
|`^[0-9]+-[0-9]+-[0-9]+`|ハイフン区切りの日付パターンのマッチ|
|`^\d+-\d+-\d+`|`\d`は数字マッチできて便利ですが全角数字にもマッチします|
|`^\s*[0-9]+-[0-9]+-[0-9]+`|`\s`を付けることで行頭の空白にもマッチングします|
|`2018-06-01$`|`$`を使うことで末尾マッチ|
|`^2018-06-01$`|`^`と`$`を合わせて使うことで行全体マッチ|
